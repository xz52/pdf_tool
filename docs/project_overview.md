# Project Overview

## Purpose
The project differs from a typical web application; it is a specialized tool designed to **extract pilot exam questions from PDF/RTF files** and **import them into a Laravel-based exam system**.

## Architecture
The system consists of three main components:

1.  **Parser (Python)**: `pdf_question_parser.py`
    - Uses `pdftotext` to extract text from PDFs.
    - Uses regex to identify question blocks, options (A-D), correct answers, and explanations.
    - Outputs structured JSON data.

2.  **Importer (Laravel)**: `ImportQuestions.php` (Console Command)
    - Reads the JSON generated by the parser.
    - Matches or creates `Subject` records.
    - Saves questions into the `global_questions` table, handling duplicate checks.

3.  **Orchestrator (Shell)**: `run_import.sh`
    - Scans the directory for PDF/RTF files.
    - Runs the Python parser for each file.
    - Triggers the Laravel import command.

## Key Data Structures
- **`subjects` Table**: Stores exam subjects (e.g., "Private Pilot Stage 1").
- **`global_questions` Table**:
    - `question_text`: The question content.
    - `options`: JSON array of answer choices.
    - `correct_option`: Integer index (0-3) of the correct answer.
    - `explanation`: Detailed explanation for the answer.
    - `subject_id`: Foreign key linking to the subject.

## Potential Improvements

### 1. Web-Based Import Interface
**Current State**: Import is strictly CLI-based.
**Proposal**: Create a dashboard page in the Laravel app where administrators can:
- Drag & drop PDF/RTF files.
- See a preview of parsed questions.
- Edit parsing errors before saving to the database.

### 2. Genetic Algorithm / AI for Exam Generation
**Current State**: Questions sit in a global pool (`global_questions`).
**Proposal**: Implement an algorithm to generate balanced exams based on difficulty, topic distribution, or previous student performance.

### 3. Enhanced Parsing Logic
**Current State**: Relies on specific regex patterns (`1-1`, `A-`, `Answer B`).
**Proposal**: Integrate a more robust parsing mechanism (possibly an LLM call or more flexible heuristics) to handle inconsistent formatting in source files.

### 4. Question Management UI
**Current State**: Questions are in the database but might not be easily editable.
**Proposal**: Build a "Question Bank" UI to search, filter, edit, and categorize questions in the `global_questions` table.

## Next Steps
Please select one of the improvements above or suggest a different direction for development.
